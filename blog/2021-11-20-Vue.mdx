**如何开发 Vue 插件**
Vue.use(Plugin)注册插件

```js
// 引自官方api
Vue.use(Plugin);

// 参数: {Object | Function} Plugin

// 用法:
// 1. 安装 Vue.js 插件, 如果插件是一个对象, 必须提供 install 方法.
// 2. 如果插件是一个函数, 它会被视为 install 方法.
// 3. install 方法调用时, 会将 Vue 作为参数传入.

// 该方法需要在调用 new Vue() 之前被调用.
// 当 install 方法被同一个插件多次调用, 插件将只会被安装一次.
```

```vue title="button.vue"
<template>
  <button><slot></slot></button>
</template>

<script>
export default {
  name: "CreateButton",
};
</script>
```

```js title="plugins/button/index.js"
import CreateButton from "./index";

CreateButton.install = function (Vue) {
  Vue.component(CreateButton.name, CreateButton);
};

export default CreateButton;
```

```js title="main.js"
import Vue from "vue";
import App from "./App.vue";
import CreateButton from "./plugins/button/index.js";

Vue.use(CreateButton);

new Vue({
  render: (h) => h(App),
}).$mount("#app");
```

```vue
<template>
  <CreateButton>button</CreateButton>
</template>
```

**Vue-router 核心原理**

1. 什么是前端路由
在Web前端单页应用SPA中, 路由是URL与UI之间的映射关系, 这种映射是单向的, 即URL变化引起UI变化.

2. 如何实现?
改变URL 页面不刷新
如何检测URL变化

hash实现: hash是URL中#及后面的部分,改变URL中的hash不会引起页面刷新

通过hashchange监听URL变化, 改变URL方式有
- 浏览器前进后退
- 通过`<a>`标签改变URL
- 通过window.location 改变URL

history实现: history 提供了 pushState 和 replaceState 两个方法, 改变URL path不会刷新页面
history 提供类似 hashchange 事件 popstate 事件,
- 通过浏览器前进后退改变URL会触发 popstate
- 通过 pushState和replaceState或`<a>`不会触发popstate
- 我们可以拦截上述函数的调用和`<a>`的点击来检测url变化
- 通过js调用history go back forward触发事件
