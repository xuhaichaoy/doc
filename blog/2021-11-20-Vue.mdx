**如何开发 Vue 插件**
Vue.use(Plugin)注册插件

```js
// 引自官方api
Vue.use(Plugin);

// 参数: {Object | Function} Plugin

// 用法:
// 1. 安装 Vue.js 插件, 如果插件是一个对象, 必须提供 install 方法.
// 2. 如果插件是一个函数, 它会被视为 install 方法.
// 3. install 方法调用时, 会将 Vue 作为参数传入.

// 该方法需要在调用 new Vue() 之前被调用.
// 当 install 方法被同一个插件多次调用, 插件将只会被安装一次.
```

```vue title="button.vue"
<template>
  <button><slot></slot></button>
</template>

<script>
export default {
  name: "CreateButton",
};
</script>
```

```js title="plugins/button/index.js"
import CreateButton from "./index";

CreateButton.install = function (Vue) {
  Vue.component(CreateButton.name, CreateButton);
};

export default CreateButton;
```

```js title="main.js"
import Vue from "vue";
import App from "./App.vue";
import CreateButton from "./plugins/button/index.js";

Vue.use(CreateButton);

new Vue({
  render: (h) => h(App),
}).$mount("#app");
```

```vue
<template>
  <CreateButton>button</CreateButton>
</template>
```

**Vue-router 核心原理**

1. 什么是前端路由
   在 Web 前端单页应用 SPA 中, 路由是 URL 与 UI 之间的映射关系, 这种映射是单向的, 即 URL 变化引起 UI 变化.

2. 如何实现?
   改变 URL 页面不刷新
   如何检测 URL 变化

hash 实现: hash 是 URL 中#及后面的部分,改变 URL 中的 hash 不会引起页面刷新

通过 hashchange 监听 URL 变化, 改变 URL 方式有

- 浏览器前进后退
- 通过`<a>`标签改变 URL
- 通过 window.location 改变 URL

history 实现: history 提供了 pushState 和 replaceState 两个方法, 改变 URL path 不会刷新页面
history 提供类似 hashchange 事件 popstate 事件,

- 通过浏览器前进后退改变 URL 会触发 popstate
- 通过 pushState 和 replaceState 或`<a>`不会触发 popstate
- 我们可以拦截上述函数的调用和`<a>`的点击来检测 url 变化
- 通过 js 调用 history go back forward 触发事件

**EventBus 实现原理**

EventBus 实际上就是通过实例化一个 Vue 实例, 然后通过该实例的 `$emit` 方法发送数据消息和 `$on` 方法接收数据消息.
需要在生命周期内监听, 全局挂载

**v-model 实现**
只要在一个自定义组件内通过设置一个名为 `value` 的 `prop`，并且在数据发生变化时 `$emit` 一个带新值的 input 事件，就可以在该自定义组件中使用 v-model 进行双向绑定

**Proxy 和 defineProperty 区别,性能 todo**

**Keep-alive 原理**

`keep-alive`是 Vue 一个内置组件. 它能够将不活动的组件实例保存在内存中, 而不是将其销毁, 是一个抽象的组件, 不会渲染到真实的 dom 中, 也不会出现在父组件中.
提供了 `include` 和 `exclude` 两个属性, 允许有条件进行缓存.
